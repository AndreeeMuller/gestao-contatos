(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{f7ec:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[o("div",{staticClass:"full-height full-width absolute q-pa-md overflow-auto"},[o("q-table",{ref:"table",staticClass:"apm-table apm-table__GG",attrs:{title:"Contatos",dense:e.$q.screen.lt.md,data:e.contatos,filter:e.filter,columns:e.columns,"visible-columns":e.visibleColumns,"row-key":"idcontato",selected:e.selected,separator:"cell","binary-state-sort":"",selection:"single"},on:{"update:selected":function(t){e.selected=t},"row-click":function(t,o,n){return e.selected=[o]}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("APMTableLoading")]},proxy:!0},{key:"top-right",fn:function(t){return[o("APMTableTopRight",{attrs:{"set-props":t,"set-columns":e.columns,"set-visible-columns":e.visibleColumns},on:{"update:setVisibleColumns":function(t){e.visibleColumns=t},"update:set-visible-columns":function(t){e.visibleColumns=t}}})]}},{key:"body-selection",fn:function(e){return[o("APMTableBodySelection",{attrs:{"set-scope":e}})]}},{key:"top-row",fn:function(){return[o("q-tr",[o("q-td",{attrs:{colspan:"100%"}},[o("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Procurar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[o("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle","transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n                Digite aqui para procurar um registro na tabela\n              ")]),o("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)],1)],1)]},proxy:!0},{key:"body-cell-situacao",fn:function(t){return[o("q-td",{attrs:{props:t}},[o("q-btn",{staticClass:"full-width full-height",attrs:{color:"A"===t.row.situacao?"positive":"negative","text-color":"white",square:"",dense:""}},[e._v("\n            "+e._s("A"===t.row.situacao?"Ativo":"Inativo")+"\n          ")])],1)]}}])}),o("APMForm",{staticClass:"q-mt-md",attrs:{"edit-form":e.selected.length?e.selected[0]:null,"default-form":{idcontato:null,situacao:"A",nome:null,telefone:null,email:null,cep:null,estado:null,cidade:null,logradouro:null,bairro:null,numero:null,complemento:null},fields:{descricao:"nome",ids:["idcontato"]}},on:{onSubmit:e.onSubmit,onReset:function(t){e.selected=[]},onCopy:function(t){e.selected=[]},onDelete:e.onDelete},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"row"},[o("div",{staticClass:"col-8 col-md-4"},[o("q-input",{attrs:{filled:"",dense:e.$q.screen.lt.md,name:"idcontato",type:"text",label:"Código",readonly:""},model:{value:t.form.idcontato,callback:function(o){e.$set(t.form,"idcontato",o)},expression:"props.form.idcontato"}})],1),o("div",{staticClass:"col-4 col-md-4"},[o("q-btn",{staticClass:"float-right full-height",attrs:{color:"A"==t.form.situacao?"positive":"negative",square:"",dense:e.$q.screen.lt.md},on:{click:function(e){e.stopPropagation(),t.form.situacao="A"===t.form.situacao?"I":"A"}}},[o("q-tooltip",{attrs:{anchor:"bottom middle",self:"center middle","transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n                Clique para alterar\n              ")]),e._v("\n              "+e._s("A"==t.form.situacao?"Ativo":"Inativo")+"\n            ")],1)],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-8"},[o("q-input",{attrs:{filled:"",name:"nome",type:"nome",dense:e.$q.screen.lt.md,label:"Nome *","hide-bottom-space":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||""}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("APMInputAppendObrigatorio")]},proxy:!0}],null,!0),model:{value:t.form.nome,callback:function(o){e.$set(t.form,"nome",o)},expression:"props.form.nome"}})],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-8"},[o("q-input",{attrs:{filled:"",name:"email",type:"email",dense:e.$q.screen.lt.md,label:"E-mail *","hide-bottom-space":"","lazy-rules":"",rules:[function(e){return e&&e.length>0||""}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("APMInputAppendObrigatorio")]},proxy:!0}],null,!0),model:{value:t.form.email,callback:function(o){e.$set(t.form,"email",o)},expression:"props.form.email"}})],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-8"},[o("q-input",{attrs:{filled:"",name:"telefone",type:"tel",dense:e.$q.screen.lt.md,label:"Telefone *",mask:t.form.telefone&&!["8","9"].includes(t.form.telefone.substring(3,4))?"(##) ####-####":"(##) #####-####","unmasked-value":"","hide-bottom-space":"","lazy-rules":"",rules:[function(e){return e&&(["8","9"].includes(t.form.telefone.substring(3,4))?11==e.length:10==e.length)||""}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("APMInputAppendObrigatorio")]},proxy:!0}],null,!0),model:{value:t.form.telefone,callback:function(o){e.$set(t.form,"telefone",o)},expression:"props.form.telefone"}})],1)]),o("APMFormEndereco",{attrs:{"use-cep-api":!t.form.idcontato,"set-cep":t.form.cep,"set-estado":t.form.estado,"set-cidade":t.form.cidade,"set-logradouro":t.form.logradouro,"set-bairro":t.form.bairro,"set-numero":t.form.numero,"set-complemento":t.form.complemento},on:{"update:setCep":function(o){return e.$set(t.form,"cep",o)},"update:set-cep":function(o){return e.$set(t.form,"cep",o)},"update:setEstado":function(o){return e.$set(t.form,"estado",o)},"update:set-estado":function(o){return e.$set(t.form,"estado",o)},"update:setCidade":function(o){return e.$set(t.form,"cidade",o)},"update:set-cidade":function(o){return e.$set(t.form,"cidade",o)},"update:setLogradouro":function(o){return e.$set(t.form,"logradouro",o)},"update:set-logradouro":function(o){return e.$set(t.form,"logradouro",o)},"update:setBairro":function(o){return e.$set(t.form,"bairro",o)},"update:set-bairro":function(o){return e.$set(t.form,"bairro",o)},"update:setNumero":function(o){return e.$set(t.form,"numero",o)},"update:set-numero":function(o){return e.$set(t.form,"numero",o)},"update:setComplemento":function(o){return e.$set(t.form,"complemento",o)},"update:set-complemento":function(o){return e.$set(t.form,"complemento",o)}}})]}}])})],1)])},l=[],a=(o("ddb0"),{name:"CadastroContato",components:{APMForm:()=>Promise.all([o.e(0),o.e(6)]).then(o.bind(null,"4d4a")),APMFormEndereco:()=>o.e(7).then(o.bind(null,"f860")),APMInputAppendObrigatorio:()=>o.e(1).then(o.bind(null,"0d10")),APMTableLoading:()=>Promise.all([o.e(0),o.e(10)]).then(o.bind(null,"74cd")),APMTableTopRight:()=>o.e(11).then(o.bind(null,"88d1")),APMTableBodySelection:()=>o.e(9).then(o.bind(null,"2e69"))},data(){return{contatos:this.$q.localStorage.getItem("contatos")||[],filter:"",columns:[{name:"idcontato",field:"idcontato",label:"Cód.",align:"right",sortable:!0,style:"width: 80px"},{name:"nome",field:"nome",label:"Nome",align:"left",sortable:!0},{name:"situacao",field:"situacao",label:"Situação",align:"center",sortable:!0,style:"width: 100px"},{name:"telefone",field:"telefone",label:"Telefone",align:"right",sortable:!0,style:"width: 120px"},{name:"email",field:"email",label:"E-mail",align:"left",sortable:!0,style:"width: 120px"},{name:"cep",field:"cep",label:"CEP",align:"right",sortable:!0,style:"width: 120px"},{name:"estado",field:"estado",label:"Estado",align:"center",sortable:!0,style:"width: 60px"},{name:"cidade",field:"cidade",label:"Cidade",align:"left",sortable:!0,style:"width: 120px"},{name:"logradouro",field:"logradouro",label:"Logradouro",align:"left",sortable:!0},{name:"bairro",field:"bairro",label:"Bairro",align:"left",sortable:!0,style:"width: 120px"},{name:"numero",field:"numero",label:"Número",align:"right",sortable:!0,style:"width: 120px"},{name:"complemento",field:"complemento",label:"Complemento",align:"left",sortable:!0,style:"width: 120px"}],visibleColumns:["idcontato","nome","situacao","telefone","email"],selected:[]}},methods:{onSubmit(e){const t=this;t.$q.loading.show(),setTimeout((()=>{if(e.idcontato){let o=t.contatos.map((e=>e.idcontato)).indexOf(e.idcontato);t.contatos[o]=e}else e.idcontato=t.getIdContato(),t.contatos.push(e),t.$refs.table.lastPage();t.$q.localStorage.set("contatos",t.contatos),t.selected=[e],t.$q.notify({type:"positive",message:"Contato gravado com sucesso!"}),t.$nextTick((()=>{t.$q.loading.hide()}))}),1e3)},onDelete(e){const t=this;t.$q.loading.show(),setTimeout((()=>{let o=t.contatos.map((e=>e.idcontato)).indexOf(e.idcontato);t.contatos.splice(o,1),t.$q.localStorage.set("contatos",t.contatos),t.selected=[],t.$q.notify({type:"positive",message:"Contato excluído com sucesso!"}),t.$nextTick((()=>{t.$q.loading.hide()}))}),1e3)},getIdContato(){const e=this;let t=parseInt(e.$q.localStorage.getItem("seq_idContato"))||0;return t++,e.$q.localStorage.set("seq_idContato",t),t}}}),s=a,i=o("2877"),r=o("9989"),d=o("eaac"),c=o("bd08"),u=o("db86"),m=o("27f9"),f=o("05c0"),p=o("0016"),b=o("9c40"),g=o("eebe"),h=o.n(g),y=Object(i["a"])(s,n,l,!1,null,null,null);t["default"]=y.exports;h()(y,"components",{QPage:r["a"],QTable:d["a"],QTr:c["a"],QTd:u["a"],QInput:m["a"],QTooltip:f["a"],QIcon:p["a"],QBtn:b["a"]})}}]);